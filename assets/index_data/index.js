(()=>{var e=window;try{const t=function(e){const t=/([^&=]+)=([\w\W]*?)(&|$)/g,n=/^[^?]+\?([\w\W]+)$/.exec(e),c={};if(n&&n[1]){const e=n[1];let o;for(;null!=(o=t.exec(e));)"app_id"===o[1]?c[o[1]]=Number(o[2]):c[o[1]]="string"==typeof o[2]&&["true","false"].includes(o[2])?JSON.parse(o[2]):o[2]}return c}(window.location.href);e.collectEvent("init",t),e.collectEvent("start")}catch(e){}window.addEventListener("message",(function(e){try{const t=e.data,{eventType:n,eventParam:c={}}=JSON.parse(t);if(!n)throw Error("eventType 必填");window.collectEvent(n,c)}catch(e){}}))})();